<!DOCTYPE html>
<html>

<head>
    <title>Flashcards</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="theme-color" content="#ffffff">
    <meta name="color-scheme" content="light">
    <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: dark)">
    <meta name="msapplication-navbutton-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="manifest" href="/static/manifest.json">
    <link rel="icon" type="image/png" href="/static/favicon.png">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet">

    
    
    <link rel="stylesheet" href="/static/css/index.css">
</head>

<body>
    <header class="site-header" role="banner">
        <div class="header__inner">
            <div class="header__actions">
                <button class="nav__link nav__link--button" id="homeBtn" type="button">
                    <span class="link__text link__text--primary">Home</span>
                    <span class="link__text link__text--hover" aria-hidden="true">Home</span>
                </button>
                <button class="nav__link nav__link--button" id="createDeckBtn" type="button">
                    <span class="link__text link__text--primary">Create </span>
                    <span class="link__text link__text--hover" aria-hidden="true">Create</span>
                </button>
                <button class="nav__link nav__link--button" id="flashMultiBtn" type="button">
                    <span class="link__text link__text--primary">Flashcard</span>
                    <span class="link__text link__text--hover" aria-hidden="true">Flashcard</span>
                </button>
                <button class="nav__link nav__link--button" id="pdfBtn" type="button">
                    <span class="link__text link__text--primary">PDF</span>
                    <span class="link__text link__text--hover" aria-hidden="true">PDF</span>
                </button>
                <button class="nav__link nav__link--button" id="randomTestBtn" type="button">
                    <span class="link__text link__text--primary">Random</span>
                    <span class="link__text link__text--hover" aria-hidden="true">Random</span>
                </button>
                <button class="nav__link nav__link--button" id="storyBtn" type="button">
                    <span class="link__text link__text--primary">Story</span>
                    <span class="link__text link__text--hover" aria-hidden="true">Story</span>
                </button>
            </div>
        </div>
    </header>
    <!-- Loader shown immediately on page load, hidden after content renders -->
    <div class="loading-overlay is-active" id="globalLoader" aria-hidden="false">
        <div class="loading-dots"><span></span><span></span><span></span></div>
    </div>
    <section class="deck-list" id="homeDeckList">
        <div style="display:flex; align-items:center; justify-content:flex-start; margin:0 0 12px 0; padding:0 2px;">
            <h2 style="margin:0; font-size:1rem; font-weight:600; color:var(--text);">Folders</h2>
        </div>
        <div class="deck-grid" id="folderGrid"></div>
        <div id="deckSectionHead" style="margin:18px 2px 8px; display:none;">
            <h2 id="deckSectionTitle" style="margin:0; font-size:1rem; font-weight:600; color:var(--text);">Decks</h2>
        </div>
        <div class="deck-grid" id="deckGrid" style="display:none"></div>
    </section>
    <div class="modal modal--center-actions" id="chooseActionModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-action="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="chooseActionTitle">
            <button id="chooseActionCloseBtn" class="modal__close" type="button">Ã—</button>
            <h2 id="chooseActionTitle" class="study-title">Open Deck</h2>
            <div class="study-actions">
                <button id="openLearnBtn" class="study-action study-action--primary" type="button">
                    <span class="material-symbols-outlined study-action__icon" aria-hidden="true">school</span>
                    <span>Learn</span>
                </button>
                <button id="openFlashBtn" class="study-action study-action--secondary" type="button">
                    <span class="material-symbols-outlined study-action__icon" aria-hidden="true">style</span>
                    <span>Flashcard</span>
                </button>
                <button id="openSpellingBtn" class="study-action study-action--secondary" type="button">
                    <span class="material-symbols-outlined study-action__icon" aria-hidden="true">spellcheck</span>
                    <span>Spelling</span>
                </button>
                <button id="openLineBtn" class="study-action study-action--secondary" type="button">
                    <span class="material-symbols-outlined study-action__icon" aria-hidden="true">subtitles</span>
                    <span>Line</span>
                </button>
                <button id="openMatchBtn" class="study-action study-action--secondary" type="button">
                    <span class="material-symbols-outlined study-action__icon" aria-hidden="true">match_word</span>
                    <span>Match</span>
                </button>
                <button id="openSettingsBtn" class="study-action study-action--secondary" type="button">
                    <span class="material-symbols-outlined study-action__icon" aria-hidden="true">settings</span>
                    <span>Settings</span>
                </button>
            </div>
        </div>
    </div>
    <div class="modal modal--multi" id="moveDeckModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-move="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="moveDeckTitle">
            <h2 id="moveDeckTitle" class="modal__title">Move to Folder</h2>
            <div class="multi-deck-list" id="moveDeckList"></div>
            <div class="modal__actions">
                <button class="btn" id="moveDeckCancelBtn" type="button">Cancel</button>
                <button class="btn btn--pill" id="moveDeckSaveBtn" type="button">Move</button>
            </div>
            <p class="modal__status" id="moveDeckStatus"></p>
        </div>
    </div>

    <div class="modal modal--multi" id="deckSettingsModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-settings="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="deckSettingsTitle">
            <h2 id="deckSettingsTitle" class="modal__title">Deck Settings</h2>
            <div class="multi-deck-list">
                <button class="btn w-full" id="deckSettingsMoveBtn" type="button">Move</button>
                <button class="btn w-full" id="deckSettingsDeleteBtn" type="button">Delete deck</button>
            </div>
        </div>
    </div>
    <div class="modal modal--multi" id="multiDeckModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-multi="true"></div>
        <div class="modal__dialog modal__dialog--bottom" role="dialog" aria-modal="true"
            aria-labelledby="multiDeckModalTitle">
            <div class="modal__header">
                <button class="modal__back-btn" id="multiDeckBackBtn" type="button" style="visibility:hidden;">
                    <span class="material-symbols-outlined">chevron_left</span>
                </button>
                <h2 id="multiDeckModalTitle" class="modal__title modal__title--center">Select Folder</h2>
                <div class="modal__header-spacer"></div>
            </div>
            <p id="multiDeckSelectedNames" class="modal__selected-names"></p>
            <div class="multi-deck-list" id="multiDeckList"></div>
            <div class="modal__actions modal__actions--grid">
                <button class="btn btn--cancel" id="multiDeckCancelBtn" type="button">Cancel</button>
                <button class="btn btn--primary" id="multiDeckSaveBtn" type="button">Save</button>
            </div>
            <p class="modal__status" id="multiDeckStatus"></p>
        </div>
    </div>
    <div class="modal modal--center-actions" id="createFolderModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-create-folder="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="createFolderTitle">
            <h2 id="createFolderTitle" class="modal__title">Create Folder</h2>
            <div class="modal__field">
                <label for="folderNameInput">Folder name</label>
                <input id="folderNameInput" type="text" placeholder="e.g., Languages" />
            </div>
            <div class="modal__actions">
                <button class="btn btn--pill" id="createFolderCancelBtn" type="button">Cancel</button>
                <button class="btn btn--pill" id="createFolderSaveBtn" type="button">Create</button>
            </div>
            <p class="modal__status" id="createFolderStatus"></p>
        </div>
    </div>
    <div class="modal modal--center-actions" id="renameFolderModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-rename-folder="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="renameFolderTitle">
            <h2 id="renameFolderTitle" class="modal__title">Manage Folder</h2>
            <div class="modal__field">
                <label for="renameFolderInput">Folder name</label>
                <input id="renameFolderInput" type="text" />
            </div>
            <div class="modal__actions">
                <button class="btn btn--primary" id="renameFolderSaveBtn" type="button">Rename</button>
            </div>
            <div class="modal__actions" style="margin-top: 8px;">
                <button class="btn btn--secondary" id="renameFolderCancelBtn" type="button">Cancel</button>
            </div>
            <p class="modal__status" id="renameFolderStatus"></p>
        </div>
    </div>
    <div class="modal modal--multi" id="moveFolderModal" aria-hidden="true">
        <div class="modal__backdrop" data-close-move-folder="true"></div>
        <div class="modal__dialog" role="dialog" aria-modal="true" aria-labelledby="moveFolderTitle">
            <h2 id="moveFolderTitle" class="modal__title">Move Folder To</h2>
            <div class="multi-deck-list" id="moveFolderList"></div>
            <div class="modal__actions">
                <button class="btn" id="moveFolderCancelBtn" type="button">Cancel</button>
                <button class="btn btn--pill" id="moveFolderSaveBtn" type="button">Move</button>
            </div>
            <p class="modal__status" id="moveFolderStatus"></p>
        </div>
    </div>

    <div id="flashApp" class="app" style="display:none">
        <div class="deck-select">
            <div class="selected-deck-name" id="selectedDeckName" style="display:none;"></div>
            <select id="deckSelect" style="display:none;"></select>
            <div class="front-toggle">
                <input type="checkbox" id="englishFrontToggle" />
                <label for="englishFrontToggle">English on front</label>
            </div>
        </div>
        <div id="card" style="position:relative;">Welcome! Please select a deck.
            <span id="pendingCount"
                style="display:none;position:absolute;top:10px;right:12px;font-size:11px;font-weight:600;color:var(--muted,#64748b);background:rgba(100,116,139,0.1);padding:2px 8px;border-radius:99px;pointer-events:none;line-height:1.4;letter-spacing:0.3px;"></span>
        </div>
        <div id="lineHint" class="line-hint" style="display:none;">
            <button id="lineHintAudio" class="line-hint-audio" type="button">ðŸ”Š</button>
            <div class="line-hint-content">
                <div id="lineHintText" class="line-hint-text is-blurred">Click to reveal hint</div>
            </div>
        </div>
        <div class="buttons">
            <button id="wrong">âœ— Wrong</button>
            <button id="right">âœ“ Right</button>
        </div>
        <div class="actions footer-actions">
            <div class="footer-row">
                <button id="prev">Previous</button>
                <button id="speak">Speak</button>
            </div>
            <div class="footer-row">
                <button id="autoPlayToggle" class="auto-play-toggle" aria-label="Toggle auto-play audio" role="switch"
                    aria-checked="false" title="Enable/disable automatic audio playback">
                    <span class="toggle-icon">ðŸ”‡</span>
                    <span class="toggle-text">Auto-Play Audio</span>
                </button>
                <button id="reset">â†º Reset</button>
            </div>
        </div>
        <div id="wordListContainer" class="word-list-container is-collapsed">
            <div id="wordListHeader" class="word-list-header">
                <span class="word-list-title">Practiced Words (<span id="practicedCount">0</span>)</span>
            </div>
            <div id="wordListGrid" class="word-list-grid"></div>
        </div>
    </div>

    <!-- Service Worker Registration for Offline Support -->
    

    
    <script src="/static/js/auth.js"></script>
    <script src="/static/js/index.js"></script>
</body>

</html>